@page "/"

<style>
    /* Partial-page background */
    .background {
        position: fixed;
        top: 0;
        left: 240px; /* Adjust this value to start the background image to the right of the sidebar */
        width: calc(100% - 200px); /* Reduce width to account for sidebar width */
        height: 100%;
        background-image: url('/blur-background.ico');
        background-size: cover;
        background-repeat: no-repeat;
        background-position: center;
        z-index: -1; /* Place background behind the content */
    }

    /* Content area styling */
    .content {
        position: relative;
        z-index: 1; /* Ensure content is on top of the background */
    }

    /* Logo styling */
    .logo {
        opacity: 0;
        transition: opacity 2s ease-in-out;
        max-width: 300px;
    }

        .logo.visible {
            opacity: 1;
        }
</style>

<!-- Background Image Div -->
<div class="background"></div>

<div class="landing-screen d-flex justify-content-center align-items-center" style="height: 100vh; margin-bottom: 25px;">
    <img src="YMCA_LOGO.ico" class="logo @logoClass" alt="YMCA Logo" />
</div>

@code {
    private string logoClass = string.Empty;

    [Inject]
    private NavigationManager NavigationManager { get; set; } = default!;

    protected override async Task OnInitializedAsync()
    {
        // Wait for the logo fade-in effect
        await Task.Delay(500);
        logoClass = "visible";
        StateHasChanged();

        // Wait for the logo to stay visible before navigating
        await Task.Delay(3000);

        NavigateToLoginPage();
    }

    private void NavigateToLoginPage()
    {
        NavigationManager.NavigateTo("/login");
    }
}
